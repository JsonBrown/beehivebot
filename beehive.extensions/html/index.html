<html ng-app="beehive">
    <head>
        <link rel="icon" href="data:;base64,iVBORw0KGgo=">
        <title>Hello</title>
    </head>
    <body>
        <div style="text-align:center"><img src="images/html5-logo.png" alt="HTML" /></div>
        <section ng-controller="SomeController">
            <ul>
                <li ng-repeat="data in MyData.collection track by $index">
                    {{ data }}
                </li>
            </ul>
        </section>
        <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.8/angular.min.js"></script>
        <script src="https://rawgit.com/gdi2290/angular-websocket/v1.0.8/angular-websocket.js"></script>
        <script>
            angular.module('beehive', ['ngWebSocket'])
            .factory('MyData', function ($websocket) {
                var dataStream = $websocket('ws://127.0.0.1:8336');
                var collection = [];
                dataStream.onMessage(function (message) {
                    collection.push(JSON.parse(message.data));
                });

                var methods = {
                    collection: collection
                };
                return methods;
            })
            .controller('SomeController', ['MyData','$scope', function (MyData, $scope) {
                $scope.MyData = MyData;
            }]);
        </script>
    </body>
</html>